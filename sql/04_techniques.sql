-- SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü —Ç–µ—Ö–Ω–∏–∫
-- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
\encoding UTF8
-- –£–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
DROP TABLE IF EXISTS technique_effect_stats CASCADE;
DROP TABLE IF EXISTS technique_effects CASCADE;
DROP TABLE IF EXISTS techniques CASCADE;

-- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: technique_categories –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ —Ä–∞–Ω–µ–µ (00_reference_tables.sql)
-- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: element_types –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ —Ä–∞–Ω–µ–µ (00_reference_tables.sql)

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–µ—Ö–Ω–∏–∫
CREATE TABLE techniques (
    id VARCHAR(30) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    icon VARCHAR(10),
    damage INTEGER DEFAULT 0,
    damage_type VARCHAR(20),
    energy_cost INTEGER DEFAULT 0,
    cooldown INTEGER DEFAULT 0,
    level INTEGER DEFAULT 0,
    max_level INTEGER DEFAULT 5,
    type VARCHAR(20),
    required_level INTEGER DEFAULT 1,
    healing INTEGER DEFAULT 0
);

-- –¢–∞–±–ª–∏—Ü–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Ç–µ—Ö–Ω–∏–∫
CREATE TABLE technique_effects (
    id SERIAL PRIMARY KEY,
    technique_id VARCHAR(30) REFERENCES techniques(id) ON DELETE CASCADE,
    type VARCHAR(30) NOT NULL,
    name VARCHAR(100) NOT NULL,
    duration INTEGER DEFAULT 0,
    damage INTEGER,
    damage_type VARCHAR(20),
    healing INTEGER
);

-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Ç–µ—Ö–Ω–∏–∫
CREATE TABLE technique_effect_stats (
    id SERIAL PRIMARY KEY,
    effect_id INTEGER REFERENCES technique_effects(id) ON DELETE CASCADE,
    stat_name VARCHAR(50) NOT NULL,
    value DECIMAL(10, 5) NOT NULL
);

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ç–µ—Ö–Ω–∏–∫ (–∏–∑ techniques.js)
INSERT INTO techniques (id, name, description, icon, damage, damage_type, energy_cost, cooldown, max_level, type, required_level) VALUES
('basic_punch', '–£–¥–∞—Ä –∫—É–ª–∞–∫–∞', '–ë–∞–∑–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ —Ä—É–∫–æ–ø–∞—à–Ω–æ–≥–æ –±–æ—è', 'üëä', 15, 'physical', 5, 0, 5, 'attack', 1),
('heavenly_breath', '–î—ã—Ö–∞–Ω–∏–µ –ù–µ–±–µ—Å', '–ë–∞–∑–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –∫—É–ª—å—Ç–∏–≤–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –¥—É—Ö–æ–≤–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é', 'üå¨Ô∏è', 0, 'spiritual', 0, 0, 5, 'cultivation', 1),
('crimson_flame_art', '–ò—Å–∫—É—Å—Å—Ç–≤–æ –ë–∞–≥—Ä—è–Ω–æ–≥–æ –ü–ª–∞–º–µ–Ω–∏', '–ú–æ—â–Ω–∞—è –æ–≥–Ω–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –Ω–∞–Ω–æ—Å—è—â–∞—è —É—Ä–æ–Ω –∏ –æ—Å—Ç–∞–≤–ª—è—é—â–∞—è —ç—Ñ—Ñ–µ–∫—Ç –≥–æ—Ä–µ–Ω–∏—è', 'üî•', 25, 'spiritual', 20, 3, 5, 'attack', 2),
('heavenly_sword_art', '–ò—Å–∫—É—Å—Å—Ç–≤–æ –ù–µ–±–µ—Å–Ω–æ–≥–æ –ú–µ—á–∞', '–¢–µ—Ö–Ω–∏–∫–∞ –≤–ª–∞–¥–µ–Ω–∏—è –º–µ—á–æ–º, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞–Ω–æ—Å–∏—Ç—å –±—ã—Å—Ç—Ä—ã–µ –∏ —Ç–æ—á–Ω—ã–µ —É–¥–∞—Ä—ã', '‚öîÔ∏è', 30, 'physical', 25, 4, 5, 'attack', 3),
('immortal_sword_art', '–ò—Å–∫—É—Å—Å—Ç–≤–æ –ë–µ—Å—Å–º–µ—Ä—Ç–Ω–æ–≥–æ –ú–µ—á–∞', '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –≤–ª–∞–¥–µ–Ω–∏—è –º–µ—á–æ–º, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Ç–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–º', 'üó°Ô∏è', 45, 'spiritual', 40, 6, 5, 'attack', 10),
('spirit_palm', '–î—É—Ö–æ–≤–Ω–∞—è –ª–∞–¥–æ–Ω—å', '–ê—Ç–∞–∫–∞, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –¥—É—Ö–æ–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π', 'üåü', 20, 'spiritual', 10, 2, 5, 'attack', 1),
('vital_strike', '–£–¥–∞—Ä –ø–æ —Ç–æ—á–∫–∞–º', '–¢–æ—á–µ—á–Ω–∞—è –∞—Ç–∞–∫–∞, –æ—Å–ª–∞–±–ª—è—é—â–∞—è –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞', 'üéØ', 15, 'physical', 15, 3, 5, 'attack', 2),
('spirit_burst', '–î—É—Ö–æ–≤–Ω—ã–π –≤–∑—Ä—ã–≤', '–ú–æ—â–Ω—ã–π –≤—ã–±—Ä–æ—Å –¥—É—Ö–æ–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–∏', 'üí•', 35, 'spiritual', 25, 4, 5, 'attack', 3),
('dragon_fist', '–ö—É–ª–∞–∫ –¥—Ä–∞–∫–æ–Ω–∞', '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –∏–º–∏—Ç–∏—Ä—É—é—â–∞—è —Å–∏–ª—É –¥—Ä–∞–∫–æ–Ω–∞', 'üêâ', 50, 'physical', 35, 5, 5, 'attack', 5),
('healing_breath', '–î—ã—Ö–∞–Ω–∏–µ –∏—Å—Ü–µ–ª–µ–Ω–∏—è', '–¢–µ—Ö–Ω–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–π —Å–∏–ª—ã', 'üíö', 0, NULL, 20, 4, 5, 'support', 2),
('spirit_shield', '–î—É—Ö–æ–≤–Ω—ã–π —â–∏—Ç', '–°–æ–∑–¥–∞–µ—Ç –∑–∞—â–∏—Ç–Ω—ã–π –±–∞—Ä—å–µ—Ä –∏–∑ –¥—É—Ö–æ–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–∏', 'üõ°Ô∏è', 0, NULL, 15, 4, 5, 'defense', 3),
-- —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ —É–¥–∞–ª–µ–Ω—ã, –µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–º–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∫—É pvp
('spirit_blade', '–î—É—Ö–æ–≤–Ω—ã–π –∫–ª–∏–Ω–æ–∫', '–°–æ–∑–¥–∞–µ—Ç –∫–ª–∏–Ω–æ–∫ –∏–∑ —á–∏—Å—Ç–æ–π –¥—É—Ö–æ–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–∏', '‚öîÔ∏è', 40, 'spiritual', 30, 4, 5, 'attack', 4),
('thunder_strike', '–£–¥–∞—Ä –≥—Ä–æ–º–∞', '–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–∞—è –∞—Ç–∞–∫–∞ —Å –æ–≥–ª—É—à–∞—é—â–∏–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º', '‚ö°', 35, 'physical', 30, 5, 5, 'attack', 4);

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Ç–µ—Ö–Ω–∏–∫
INSERT INTO technique_effects (technique_id, type, name, duration, damage, damage_type) VALUES
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –î—ã—Ö–∞–Ω–∏—è –ù–µ–±–µ—Å
('heavenly_breath', 'regenerate', '–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏', 7, NULL, NULL),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ò—Å–∫—É—Å—Å—Ç–≤–∞ –ë–∞–≥—Ä—è–Ω–æ–≥–æ –ü–ª–∞–º–µ–Ω–∏
('crimson_flame_art', 'burn', '–ë–∞–≥—Ä—è–Ω–æ–µ –ø–ª–∞–º—è', 6, 8, 'spiritual'),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ò—Å–∫—É—Å—Å—Ç–≤–∞ –ù–µ–±–µ—Å–Ω–æ–≥–æ –ú–µ—á–∞
('heavenly_sword_art', 'bleed', '–†–∞—Å—Å–µ—á–µ–Ω–∏–µ', 5, 10, 'physical'),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ò—Å–∫—É—Å—Å—Ç–≤–∞ –ë–µ—Å—Å–º–µ—Ä—Ç–Ω–æ–≥–æ –ú–µ—á–∞
('immortal_sword_art', 'pierce', '–ü—Ä–æ–Ω–∑–∞—é—â–∏–π —É–¥–∞—Ä', 2, NULL, NULL),
('immortal_sword_art', 'bleed', '–ì–ª—É–±–æ–∫–æ–µ —Ä–∞—Å—Å–µ—á–µ–Ω–∏–µ', 4, 15, 'spiritual'),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –£–¥–∞—Ä–∞ –ø–æ —Ç–æ—á–∫–∞–º
('vital_strike', 'weaken', '–û—Å–ª–∞–±–ª–µ–Ω–∏–µ', 10, NULL, NULL),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ö—É–ª–∞–∫–∞ –¥—Ä–∞–∫–æ–Ω–∞
('dragon_fist', 'burn', '–î—Ä–∞–∫–æ–Ω—å–µ –ø–ª–∞–º—è', 5, 10, 'spiritual'),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –î—ã—Ö–∞–Ω–∏—è –∏—Å—Ü–µ–ª–µ–Ω–∏—è
('healing_breath', 'regenerate', '–†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è', 5, NULL, NULL),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –î—É—Ö–æ–≤–Ω–æ–≥–æ —â–∏—Ç–∞
('spirit_shield', 'protect', '–î—É—Ö–æ–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞', 7, NULL, NULL),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –°—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ -- —É–¥–∞–ª–µ–Ω—ã

-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –î—É—Ö–æ–≤–Ω–æ–≥–æ –∫–ª–∏–Ω–∫–∞
('spirit_blade', 'bleed', '–î—É—Ö–æ–≤–Ω–æ–µ –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏–µ', 6, 10, 'spiritual'),
-- –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –£–¥–∞—Ä–∞ –≥—Ä–æ–º–∞
('thunder_strike', 'stun', '–û–≥–ª—É—à–µ–Ω–∏–µ', 10, NULL, NULL);

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Ç–µ—Ö–Ω–∏–∫
INSERT INTO technique_effect_stats (effect_id, stat_name, value) VALUES
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ (–î—ã—Ö–∞–Ω–∏–µ –ù–µ–±–µ—Å)
(1, 'energyRegen', 5),
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ü—Ä–æ–Ω–∑–∞—é—â–∏–π —É–¥–∞—Ä (–ò—Å–∫—É—Å—Å—Ç–≤–æ –ë–µ—Å—Å–º–µ—Ä—Ç–Ω–æ–≥–æ –ú–µ—á–∞)
(4, 'ignoreDefense', 30),
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –û—Å–ª–∞–±–ª–µ–Ω–∏–µ (–£–¥–∞—Ä –ø–æ —Ç–æ—á–∫–∞–º)
(6, 'physicalDefense', -5),
(6, 'spiritualDefense', -5),
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–î—ã—Ö–∞–Ω–∏–µ –∏—Å—Ü–µ–ª–µ–Ω–∏—è)
(8, 'healing', 10),
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –î—É—Ö–æ–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ (–î—É—Ö–æ–≤–Ω—ã–π —â–∏—Ç)
(9, 'physicalDefense', 15),
(9, 'spiritualDefense', 15),
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –£—Å–∫–æ—Ä–µ–Ω–∏–µ (–°—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏) -- —É–¥–∞–ª–µ–Ω—ã

