# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–£–±—Ä–∞–ª –∏–∑ Dockerfile –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```dockerfile
# –£–ë–†–ê–ù–û (–≤—ã–∑—ã–≤–∞–ª–æ –∑–∞–≤–∏—Å–∞–Ω–∏–µ –Ω–∞ 15-30 –º–∏–Ω—É—Ç):
# RUN groupadd -r appuser && useradd -r -g appuser appuser
# RUN chown -R appuser:appuser /app
# USER appuser
```

## ‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç

- **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**: —Å 15-30 –º–∏–Ω—É—Ç ‚Üí 2-5 –º–∏–Ω—É—Ç
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–±–æ—Ä–∫—É (–µ—Å–ª–∏ –∑–∞–≤–∏—Å–ª–∞)
```bash
# –ü—Ä–µ—Ä–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Å–±–æ—Ä–∫—É
Ctrl+C

# –û—á–∏—Å—Ç–∏—Ç—å –∑–∞–≤–∏—Å—à–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down --remove-orphans
docker system prune -f
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º Dockerfile
```bash
# –°–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞ (—á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π Dockerfile)
docker-compose build --no-cache

# –ó–∞–ø—É—Å–∫
docker-compose up
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# immortal-path-postgres  running (healthy)
# immortal-path-app       running
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏

### PostgreSQL (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º):
```
postgres_1  | PostgreSQL init process complete; ready for start up
postgres_1  | database system is ready to accept connections
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ PostgreSQL):
```
app_1  | –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (postgres:5432)...
app_1  | –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
app_1  | –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
app_1  | 
app_1  | > immortal-path@1.0.0 dev
app_1  | > concurrently "npm run start" "npm run server"
app_1  | 
app_1  | [0] Starting the development server...
app_1  | [1] API —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
app_1  | [0] Compiled successfully!
app_1  | [0] You can now view immortal-path in the browser.
app_1  | [0]   Local:            http://localhost:80
```

## üîó –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

- **React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://localhost:80
- **API —Å–µ—Ä–≤–µ—Ä**: http://localhost:3001
- **PostgreSQL**: `psql -h localhost -U postgres -d game`

## üõ†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 80
netstat -ano | findstr :80

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml
ports:
  - "8080:80"  # –í–º–µ—Å—Ç–æ "80:80"
```

### –ü—Ä–æ–±–ª–µ–º–∞: PostgreSQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ PostgreSQL
docker-compose logs postgres

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å volume PostgreSQL
docker-compose down -v
docker-compose up postgres
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose exec app env | grep DB_

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# DB_HOST=postgres
# DB_PORT=5432
# DB_NAME=game
# DB_USER=postgres
# DB_PASSWORD=root
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- ‚úÖ –ë—ã—Å—Ç—Ä–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è (2-5 –º–∏–Ω—É—Ç)
- ‚úÖ –í–∫–ª—é—á–∞–µ—Ç PostgreSQL 16
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç hot reload
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ë–î
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è psql —Å —Ö–æ—Å—Ç–∞

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**
```bash
docker-compose up --build